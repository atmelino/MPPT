<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>MPPT Version 1.1</title>
  <link rel="stylesheet" href="MPPT.css">
</head>

<body>
  <h1>MPPT Version 1.1 </h1>


  <div class="container">
    <div class="fixed">
      <a href="images/version1_1/MPPT_LCD_Pi/schematic.png"><img src="images/version1_1/MPPT_LCD_Pi/schematic.png"
          width="400" alt=""></a>
    </div>
    <div class="fixed">
      <a href="images/version1_1/MPPT_LCD_Pi/board.png"> <img src="images/version1_1/MPPT_LCD_Pi/board.png" width="400"
          alt=""></a>
    </div>
    <div class="flex-item">
      <a href="images/version1_1/MPPT_LCD_Pi/photo.jpeg"> <img src="images/version1_1/MPPT_LCD_Pi/photo.jpeg"
          width="400" alt=""></a>
    </div>
  </div>
  <div class="container">
    <div class="fixed">
      <a href="images/version1_1/MPPT_Solar/schematic.png"><img src="images/version1_1/MPPT_Solar/schematic.png"
          width="400" alt=""></a>
    </div>
    <div class="fixed">
      <a href="images/version1_1/MPPT_Solar/board.png"> <img src="images/version1_1/MPPT_Solar/board.png" width="400"
          alt=""></a>
    </div>
    <div class="flex-item">
      <a href="images/version1_1/MPPT_Solar/photo.jpeg"> <img src="images/version1_1/MPPT_Solar/photo.jpeg" width="400"
          alt=""></a>
    </div>
  </div>

  <h2>Autostart at Boot?</h2>

   https://www.instructables.com/id/Nodejs-App-As-a-RPI-Service-boot-at-Startup/<br>
  requires<br>
  <code>sudo npm install forever -g</code><br>
  to be able to run this as non-root user:<br>
  https://raspberrypi.stackexchange.com/questions/40105/access-gpio-pins-without-root-no-access-to-dev-mem-try-running-as-root<br>
  Three methods:<br>
  SysVinit<br>
  Systemd<br>
  Upstart<br>
  https://unix.stackexchange.com/questions/106656/how-do-services-in-debian-work-and-how-can-i-manage-them<br>
  Preferred:<br>
  Systemd<br>
  Examples:<br>
  https://www.raspberrypi.org/documentation/linux/usage/systemd.md<br>
  https://learn.adafruit.com/running-programs-automatically-on-your-tiny-computer/systemd-writing-and-enabling-a-service<br>
  https://nodesource.com/blog/running-your-node-js-app-with-systemd-part-1/<br>


  <h2>Support</h2>
  Q: PC simulation getting serialport version error<br>
  Error: Error: The module '<yourpath>/node_modules/serialport/build/Release/serialport.node'<br>
    was compiled against a different Node.js version using<br>
    NODE_MODULE_VERSION 48. This version of Node.js requires<br>
    NODE_MODULE_VERSION 57. Please try re-compiling or re-installing<br>

    A: Possible solutions:<br>
    <h5>method 1</h5>
    run your program with an older version of node by installing Node Version Manager nvm<br>
    <code>git clone https://github.com/creationix/nvm.git ~/.nvm</code><br>
    <code>cd ~/.nvm</code><br>
    <code>git checkout `git describe --abbrev=0 --tags`</code><br>
    <code>cd ..</code><br>
    <code>. ~/.nvm/nvm.sh</code><br>
    Add these lines to ~/.bashrc<br>
    <code>export NVM_DIR="$HOME/.nvm"</code><br>
    <code>[ -s "$NVM_DIR/nvm.sh" ] && . "$NVM_DIR/nvm.sh" # This loads nvm</code><br>
    Install and use different node version<br>
    <code>nvm install 6</code><br>
    <code>nvm use 6</code><br>

    <h5>method 2</h5>
    Try completely removing node and reinstalling.<br>
    <code>sudo apt remove nodejs</code><br>
    delete .npm folder in home
    delete .nvm folder in home
    delete package json lock file
    delete package.json file
    <code>sudo apt install nodejs</code><br>
    try running <br>
    <code>sudo node server.js</code><br>
    install node modules as requested<br>
    <code>npm install express</code><br>
    etc


</body>

</html>